#!/usr/bin/env ruby

input_valid = false

until input_valid
  puts "How many passwords to generate? [100] "

  answer      = gets.chomp
  count       = answer.to_i
  input_valid = true if count > 0
end

pw_gen    = Spawar::Rad::Pwgen::PasswordGenerator.new(count)
passwords = pw_gen.generate

system "echo ' ' > ./password.txt \n\n"
system "echo 'Generated passwords meet the following requirements: ' >> ./password.txt"
system "echo 'Must have at least one special character (!@#\$\%^&*())' >> ./password.txt"
system "echo 'Must have at least one numeric character (0 -9)' >> ./password.txt"
system "echo 'Must have at least one lower case alphabetic character (a - z)' >> ./password.txt"
system "echo 'Must have at least one upper case alphabetic character (A - Z)' >> ./password.txt"
system "echo 'Must have at least 14 and less than 33 characters in length' >> ./password.txt"
system "echo ' ' >> ./password.txt \n\n"
system "echo '" + passwords.map(&:to_s).join("\n\n") + "' >> ./password.txt"
puts "Ok, generated #{count} random passwords into password.txt"
